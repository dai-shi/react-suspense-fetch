function r(r,e){try{var t=r()}catch(r){return e(r)}return t&&t.then?t.then(void 0,e):t}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var e=Symbol("RUN_FETCH"),t=Symbol("CLONE_FETCH"),n=function n(o,i){var u={started:!1};u.promise=new Promise((function(r){u.resolve=r}));var f=function(e){u.started||(u.promise=function(e){try{return u.started=!0,Promise.resolve(function(t,n){try{var f=r((function(){var t=i?Promise.resolve(function e(t,n){try{var o=!1;return Promise.resolve(r((function(){return t(n)}),(function(r){function i(e){if(o)return e;throw r}var u=function(){if((i=r)&&"function"==typeof i.then)return Promise.resolve(r).then((function(){return o=!0,e(t,n)}));var i}();return u&&u.then?u.then(i):i(u)})))}catch(r){return Promise.reject(r)}}(i,e)).then((function(r){return Promise.resolve(o(r)).then((function(r){u.data=r}))})):Promise.resolve(o(e)).then((function(r){u.data=r}));if(t&&t.then)return t.then((function(){}))}),(function(r){u.error=r}))}catch(r){return n(!0,r)}return f&&f.then?f.then(n.bind(null,!1),n.bind(null,!0)):n(!1,f)}(0,(function(r,e){if(delete u.promise,u.resolve&&(u.resolve(),delete u.resolve),r)throw e;return e})))}catch(r){return Promise.reject(r)}}(e))},c=function(){return n(o,i)};return new Proxy({},{get:function(r,n){if(n===e)return f;if(n===t)return c;if(u.promise)throw u.promise;if(u.error)throw u.error;var o=u.data[n];return"function"==typeof o?o.bind(u.data):o},has:function(r,e){if(u.promise)throw u.promise;if(u.error)throw u.error;return e in u.data},ownKeys:function(){if(u.promise)throw u.promise;if(u.error)throw u.error;return Reflect.ownKeys(u.data)}})},o=function(r,t){return r[e](t)},i=function(r,e,t){var i=n(r,t);return o(i,e),i},u=function(r,e){var n=r[t]();return o(n,e),n};export{i as prefetch,n as prepare,u as refetch,o as run};
//# sourceMappingURL=index.esm.js.map
