function r(r,t){try{var e=r()}catch(r){return t(r)}return e&&e.then?e.then(void 0,t):e}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var t=Symbol("RUN_FETCH"),e=Symbol("CLONE_FETCH"),n=function n(o,i){var u={started:!1};u.promise=new Promise(function(r){u.resolve=r});var f={},c=function(t){u.started||(u.promise=function(t){try{u.started=!0;var e=function(e,n){try{var c=r(function(){function e(){Object.keys(n).forEach(function(r){f[r]=n[r]}),u.data=n}var n,c=i?Promise.resolve(function t(e,n){try{var o=!1;return Promise.resolve(r(function(){return e(n)},function(r){function i(t){if(o)return t;throw r}var u=function(){if((i=r)&&"function"==typeof i.then)return Promise.resolve(r).then(function(){return o=!0,t(e,n)});var i}();return u&&u.then?u.then(i):i(u)}))}catch(r){return Promise.reject(r)}}(i,t)).then(function(r){return Promise.resolve(o(r)).then(function(r){n=r})}):Promise.resolve(o(t)).then(function(r){n=r});return c&&c.then?c.then(e):e()},function(r){u.error=r})}catch(r){return n(!0,r)}return c&&c.then?c.then(n.bind(null,!1),n.bind(null,!0)):n(!1,c)}(0,function(r,t){if(delete u.promise,u.resolve&&(u.resolve(),delete u.resolve),r)throw t;return t});return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(r){return Promise.reject(r)}}(t))},s=function(){return n(o,i)};return new Proxy(f,{get:function(r,n){if(n===t)return c;if(n===e)return s;if(u.promise)throw u.promise;if(u.error)throw u.error;var o=u.data[n];return"function"==typeof o?o.bind(u.data):o},has:function(r,t){if(u.promise)throw u.promise;if(u.error)throw u.error;return t in u.data},ownKeys:function(){if(u.promise)throw u.promise;if(u.error)throw u.error;return Reflect.ownKeys(u.data)},getOwnPropertyDescriptor:function(r,t){if(u.promise)throw u.promise;if(u.error)throw u.error;return Reflect.getOwnPropertyDescriptor(u.data,t)},getPrototypeOf:function(){if(u.promise)throw u.promise;if(u.error)throw u.error;return Object.getPrototypeOf(u.data)},isExtensible:function(){return!0},preventExtensions:function(){return!1},setPrototypeOf:function(){return!1},set:function(){return!1},defineProperty:function(){return!1},deleteProperty:function(){return!1}})},o=function(r,e){return r[t](e)},i=function(r,t,e){var i=n(r,e);return o(i,t),i},u=function(r,t){var n=r[e]();return o(n,t),n};export{i as prefetch,n as prepare,u as refetch,o as run};
//# sourceMappingURL=index.esm.js.map
